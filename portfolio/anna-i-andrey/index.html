<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Анна и Андрей — портфолио</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&amp;family=Manrope:wght@300;400;500;600&amp;display=swap" rel="stylesheet"/>
<link href="../../styles.css?v=21" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<style>
.page { padding: 40px 0; }
.breadcrumbs a { color: inherit; opacity:.7; text-decoration:none; }
.breadcrumbs a:hover { opacity:1; }
.page-header h1{ color:#ffffff !important; }
/* Uniform mosaic grid with cropping */
.portfolio-grid .grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:16px; }
.portfolio-grid .grid .tile{ position:relative; display:block; width:100%; padding-top:66.666%; overflow:hidden; border-radius:12px; }
.portfolio-grid .grid .tile img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; }
@media (max-width:560px){ .portfolio-grid .grid{ gap:12px; } }
</style>
</head>
<body>
<header class="page-header">
<div class="container">
<nav class="breadcrumbs"><a href="../../index.html">Главная</a> / <a href="../../portfolio.html">Портфолио</a> / Анна и Андрей</nav>
<h1>Анна и Андрей</h1>
</div>
</header>
<main class="page">
<div class="container">
<section class="portfolio-grid">
<div class="container">
<div class="grid">
<!-- images inserted here -->
<a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl004.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl004.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl026.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl026.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl050.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl050.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl051.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl051.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl076.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl076.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl081.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl081.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl087.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl087.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl095.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl095.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl106.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl106.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl108.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl108.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl112.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl112.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl113.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl113.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl115.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl115.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl117.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl117.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl118.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl118.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl126.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl126.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl251.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl251.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl283.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl283.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl293.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl293.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl294.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl294.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl295.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl295.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl296.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl296.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl305.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl305.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl413.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl413.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl414.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl414.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl415.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl415.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl416.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl416.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl417.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl417.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl418.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl418.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl424.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl424.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl425.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl425.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl429.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl429.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl432.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl432.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl435.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl435.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl437.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl437.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl438.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl438.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl442.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl442.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl444.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl444.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl448.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl448.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl454.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl454.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl457.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl457.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl461.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl461.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl462.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl462.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl468.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl468.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl479.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl479.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl484.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl484.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl496.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl496.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl499.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl499.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl501.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl501.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl505.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl505.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl509.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl509.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl511.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl511.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl517.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl517.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl524.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl524.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl527.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl527.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl529.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl529.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl540.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl540.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl543.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl543.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl544.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl544.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-andrey" data-title="Анна и Андрей" href="photos/wdfl546.jpg"><img alt="Анна и Андрей" loading="lazy" src="photos/wdfl546.jpg"/></a></div>
</div>
</section>
</div>
</main>
<script>
// МАКСИМАЛЬНО НАДЕЖНЫЙ LIGHTBOX
(function() {
    'use strict';
    
    let lightboxInitialized = false;
    let modal = null;
    let images = [];
    let currentIndex = 0;
    
    // Функция инициализации
    function initLightbox() {
        if (lightboxInitialized) return;
        
        console.log('🚀 Инициализация максимально надежного lightbox...');
        
        // Создаем модальное окно
        modal = document.createElement('div');
        modal.id = 'lightbox-modal';
        modal.className = 'lightbox-modal';
        modal.innerHTML = `
            <div class="lightbox-content">
                <img class="lightbox-image" src="" alt="Просмотр изображения">
                <button class="lightbox-prev" onclick="window.lightboxPrev()">‹</button>
                <button class="lightbox-next" onclick="window.lightboxNext()">›</button>
                <button class="lightbox-close" onclick="window.lightboxClose()">×</button>
                <div class="lightbox-counter">1 / 1</div>
            </div>
        `;
        document.body.appendChild(modal);
        console.log('✅ Модальное окно создано');
        
        // Находим ВСЕ изображения разными способами
        const selectors = [
            '.portfolio-image a',
            '.portfolio-item a',
            'a[data-lightbox]',
            'a[href*=".jpg"]',
            'a[href*=".jpeg"]',
            'a[href*=".png"]',
            'a[href*=".webp"]'
        ];
        
        images = [];
        selectors.forEach(selector => {
            const found = document.querySelectorAll(selector);
            found.forEach(img => {
                if (!images.includes(img)) {
                    images.push(img);
                }
            });
        });
        
        console.log('📸 Найдено изображений:', images.length);
        
        // Глобальные функции
        window.lightboxOpen = function(index) {
            console.log('🔓 Открытие lightbox, индекс:', index);
            if (!modal || !images[index]) return;
            
            currentIndex = index;
            const imageSrc = images[currentIndex].getAttribute('href');
            const imageElement = modal.querySelector('.lightbox-image');
            const counterElement = modal.querySelector('.lightbox-counter');
            
            imageElement.src = imageSrc;
            counterElement.textContent = (currentIndex + 1) + ' / ' + images.length;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        };
        
        window.lightboxClose = function() {
            console.log('🔒 Закрытие lightbox');
            if (!modal) return;
            modal.classList.remove('active');
            document.body.style.overflow = '';
        };
        
        window.lightboxPrev = function() {
            console.log('⬅️ Предыдущее изображение');
            if (!modal || images.length === 0) return;
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            const imageSrc = images[currentIndex].getAttribute('href');
            const imageElement = modal.querySelector('.lightbox-image');
            const counterElement = modal.querySelector('.lightbox-counter');
            
            imageElement.src = imageSrc;
            counterElement.textContent = (currentIndex + 1) + ' / ' + images.length;
        };
        
        window.lightboxNext = function() {
            console.log('➡️ Следующее изображение');
            if (!modal || images.length === 0) return;
            currentIndex = (currentIndex + 1) % images.length;
            const imageSrc = images[currentIndex].getAttribute('href');
            const imageElement = modal.querySelector('.lightbox-image');
            const counterElement = modal.querySelector('.lightbox-counter');
            
            imageElement.src = imageSrc;
            counterElement.textContent = (currentIndex + 1) + ' / ' + images.length;
        };
        
        // Добавляем обработчики ВСЕМИ способами
        images.forEach(function(image, index) {
            console.log('🔗 Добавление обработчика для изображения', index);
            
            // Обработчик на ссылку
            image.addEventListener('click', function(e) {
                console.log('🖱️ Клик по ссылке, индекс:', index);
                e.preventDefault();
                e.stopPropagation();
                window.lightboxOpen(index);
            });
            
            // Обработчик на изображение внутри ссылки
            const img = image.querySelector('img');
            if (img) {
                img.addEventListener('click', function(e) {
                    console.log('🖱️ Клик по изображению, индекс:', index);
                    e.preventDefault();
                    e.stopPropagation();
                    window.lightboxOpen(index);
                });
            }
        });
        
        // Обработчик на весь контейнер портфолио
        const portfolioContainer = document.querySelector('.portfolio-items');
        if (portfolioContainer) {
            portfolioContainer.addEventListener('click', function(e) {
                const clickedImage = e.target.closest('a');
                if (clickedImage && images.includes(clickedImage)) {
                    const index = images.indexOf(clickedImage);
                    console.log('🖱️ Клик по контейнеру, индекс:', index);
                    e.preventDefault();
                    e.stopPropagation();
                    window.lightboxOpen(index);
                }
            });
        }
        
        // Закрытие по клику на фон
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                window.lightboxClose();
            }
        });
        
        // Обработка клавиатуры
        document.addEventListener('keydown', function(e) {
            if (!modal || !modal.classList.contains('active')) return;
            
            switch(e.key) {
                case 'Escape':
                    window.lightboxClose();
                    break;
                case 'ArrowLeft':
                    window.lightboxPrev();
                    break;
                case 'ArrowRight':
                    window.lightboxNext();
                    break;
            }
        });
        
        lightboxInitialized = true;
        console.log('✅ Lightbox полностью инициализирован!');
    }
    
    // Множественные способы запуска
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initLightbox);
    } else {
        initLightbox();
    }
    
    window.addEventListener('load', function() {
        setTimeout(initLightbox, 100);
    });
    
    // Принудительная инициализация через 1 секунду
    setTimeout(initLightbox, 1000);
    
    // Принудительная инициализация через 3 секунды
    setTimeout(initLightbox, 3000);
    
    console.log('🚀 Lightbox скрипт загружен и готов к работе!');
})();
</script></body>
</html>
