<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Анна и Ильдар — портфолио</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&amp;family=Manrope:wght@300;400;500;600&amp;display=swap" rel="stylesheet"/>
<link href="../../styles.css?v=21" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<style>
.page { padding: 40px 0; }
.breadcrumbs a { color: inherit; opacity:.7; text-decoration:none; }
.breadcrumbs a:hover { opacity:1; }
.placeholder { border:1px dashed rgba(0,0,0,.2); border-radius:14px; padding:40px; text-align:center; }
</style>
<style>
.page-header h1{ color:#ffffff !important; }
</style><style>
/* Uniform mosaic grid with cropping */
.portfolio-grid .grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:16px; }
.portfolio-grid .grid .tile{ position:relative; display:block; width:100%; padding-top:66.666%; overflow:hidden; border-radius:12px; }
.portfolio-grid .grid .tile img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; }
@media (max-width:560px){ .portfolio-grid .grid{ gap:12px; } }
</style></head>
<body>
<header class="page-header">
<div class="container">
<nav class="breadcrumbs"><a href="../../index.html">Главная</a> / <a href="../../portfolio.html">Портфолио</a> / Анна и Ильдар</nav>
<h1>Анна и Ильдар</h1>
</div>
</header>
<main class="page">
<div class="container">

<section class="portfolio-grid"><div class="container"><div class="grid"><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3463.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3463.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3480.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3480.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3608.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3608.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3616.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3616.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3632.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3632.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3636.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3636.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3681.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3681.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3724.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3724.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3762.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3762.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3764.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3764.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3816.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3816.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3825.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3825.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3846.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3846.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3850.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3850.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-3958.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-3958.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4302.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4302.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4353.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4353.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4362.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4362.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4378.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4378.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4415.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4415.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4422.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4422.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4428.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4428.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4499.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4499.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4509.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4509.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4523.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4523.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4573.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4573.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4616.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4616.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4671.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4671.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4745.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4745.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4764.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4764.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4790.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4790.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4843.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4843.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4888.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4888.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4971.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4971.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4975.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4975.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-4995.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-4995.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5015.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5015.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5022.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5022.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5075.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5075.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5087.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5087.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5088.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5088.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5143.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5143.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5192.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5192.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5211.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5211.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5275.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5275.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5358.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5358.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5359.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5359.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5365.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5365.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5368.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5368.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5406.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5406.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5409.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5409.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5472.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5472.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5520.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5520.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5652.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5652.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5712.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5712.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5805.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5805.jpg"/></a><a class="lb-item tile" data-lightbox="anna-i-ildar" data-title="Анна и Ильдар" href="photos/_-5811.jpg"><img alt="Анна и Ильдар" loading="lazy" src="photos/_-5811.jpg"/></a></div></div></section></div>
</main>
<script>
// МАКСИМАЛЬНО НАДЕЖНЫЙ LIGHTBOX
(function() {
    'use strict';
    
    let lightboxInitialized = false;
    let modal = null;
    let images = [];
    let currentIndex = 0;
    
    // Функция инициализации
    function initLightbox() {
        if (lightboxInitialized) return;
        
        console.log('🚀 Инициализация максимально надежного lightbox...');
        
        // Создаем модальное окно
        modal = document.createElement('div');
        modal.id = 'lightbox-modal';
        modal.className = 'lightbox-modal';
        modal.innerHTML = `
            <div class="lightbox-content">
                <img class="lightbox-image" src="" alt="Просмотр изображения">
                <button class="lightbox-prev" onclick="window.lightboxPrev()">‹</button>
                <button class="lightbox-next" onclick="window.lightboxNext()">›</button>
                <button class="lightbox-close" onclick="window.lightboxClose()">×</button>
                <div class="lightbox-counter">1 / 1</div>
            </div>
        `;
        document.body.appendChild(modal);
        console.log('✅ Модальное окно создано');
        
        // Находим ВСЕ изображения разными способами
        const selectors = [
            '.portfolio-image a',
            '.portfolio-item a',
            'a[data-lightbox]',
            'a[href*=".jpg"]',
            'a[href*=".jpeg"]',
            'a[href*=".png"]',
            'a[href*=".webp"]'
        ];
        
        images = [];
        selectors.forEach(selector => {
            const found = document.querySelectorAll(selector);
            found.forEach(img => {
                if (!images.includes(img)) {
                    images.push(img);
                }
            });
        });
        
        console.log('📸 Найдено изображений:', images.length);
        
        // Глобальные функции
        window.lightboxOpen = function(index) {
            console.log('🔓 Открытие lightbox, индекс:', index);
            if (!modal || !images[index]) return;
            
            currentIndex = index;
            const imageSrc = images[currentIndex].getAttribute('href');
            const imageElement = modal.querySelector('.lightbox-image');
            const counterElement = modal.querySelector('.lightbox-counter');
            
            imageElement.src = imageSrc;
            counterElement.textContent = (currentIndex + 1) + ' / ' + images.length;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        };
        
        window.lightboxClose = function() {
            console.log('🔒 Закрытие lightbox');
            if (!modal) return;
            modal.classList.remove('active');
            document.body.style.overflow = '';
        };
        
        window.lightboxPrev = function() {
            console.log('⬅️ Предыдущее изображение');
            if (!modal || images.length === 0) return;
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            const imageSrc = images[currentIndex].getAttribute('href');
            const imageElement = modal.querySelector('.lightbox-image');
            const counterElement = modal.querySelector('.lightbox-counter');
            
            imageElement.src = imageSrc;
            counterElement.textContent = (currentIndex + 1) + ' / ' + images.length;
        };
        
        window.lightboxNext = function() {
            console.log('➡️ Следующее изображение');
            if (!modal || images.length === 0) return;
            currentIndex = (currentIndex + 1) % images.length;
            const imageSrc = images[currentIndex].getAttribute('href');
            const imageElement = modal.querySelector('.lightbox-image');
            const counterElement = modal.querySelector('.lightbox-counter');
            
            imageElement.src = imageSrc;
            counterElement.textContent = (currentIndex + 1) + ' / ' + images.length;
        };
        
        // Добавляем обработчики ВСЕМИ способами
        images.forEach(function(image, index) {
            console.log('🔗 Добавление обработчика для изображения', index);
            
            // Обработчик на ссылку
            image.addEventListener('click', function(e) {
                console.log('🖱️ Клик по ссылке, индекс:', index);
                e.preventDefault();
                e.stopPropagation();
                window.lightboxOpen(index);
            });
            
            // Обработчик на изображение внутри ссылки
            const img = image.querySelector('img');
            if (img) {
                img.addEventListener('click', function(e) {
                    console.log('🖱️ Клик по изображению, индекс:', index);
                    e.preventDefault();
                    e.stopPropagation();
                    window.lightboxOpen(index);
                });
            }
        });
        
        // Обработчик на весь контейнер портфолио
        const portfolioContainer = document.querySelector('.portfolio-items');
        if (portfolioContainer) {
            portfolioContainer.addEventListener('click', function(e) {
                const clickedImage = e.target.closest('a');
                if (clickedImage && images.includes(clickedImage)) {
                    const index = images.indexOf(clickedImage);
                    console.log('🖱️ Клик по контейнеру, индекс:', index);
                    e.preventDefault();
                    e.stopPropagation();
                    window.lightboxOpen(index);
                }
            });
        }
        
        // Закрытие по клику на фон
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                window.lightboxClose();
            }
        });
        
        // Обработка клавиатуры
        document.addEventListener('keydown', function(e) {
            if (!modal || !modal.classList.contains('active')) return;
            
            switch(e.key) {
                case 'Escape':
                    window.lightboxClose();
                    break;
                case 'ArrowLeft':
                    window.lightboxPrev();
                    break;
                case 'ArrowRight':
                    window.lightboxNext();
                    break;
            }
        });
        
        lightboxInitialized = true;
        console.log('✅ Lightbox полностью инициализирован!');
    }
    
    // Множественные способы запуска
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initLightbox);
    } else {
        initLightbox();
    }
    
    window.addEventListener('load', function() {
        setTimeout(initLightbox, 100);
    });
    
    // Принудительная инициализация через 1 секунду
    setTimeout(initLightbox, 1000);
    
    // Принудительная инициализация через 3 секунды
    setTimeout(initLightbox, 3000);
    
    console.log('🚀 Lightbox скрипт загружен и готов к работе!');
})();
</script></body>
</html>
